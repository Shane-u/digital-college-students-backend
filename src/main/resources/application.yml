spring:
  application:
    name: digital-college-students-backend
  profiles:
    active: dev
#  mvc:
#    pathmatch:
#      matching-strategy: ant_path_matcher
  # session 配置
  session:
    # 30 天过期
    timeout: 2592000
  # 数据库配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://47.109.65.166:3306/digital?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&useSSL=false&allowPublicKeyRetrieval=true
    username: digital
    password: digital0123 # 需要修改为自己的数据库密码，后续会部署服务器
  # 邮件配置
  mail:
    host: smtp.163.com
    username: zhaoshuang_1200@163.com
    password: MHMcFLTpzC7dkJaq
    default-encoding: UTF-8
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
  # Redis 配置
#  redis:
#    database: 1
#    host: localhost
#    port: 6379
#    timeout: 5000
#    password: 123456
  # 文件上传
  servlet:
    multipart:
      # 大小限制
      max-file-size: -1
      max-request-size: -1
  # MongoDB配置
  data:
    mongodb:
      uri: mongodb://root:Zs123456@47.109.65.166:27017/digital_chat?authSource=admin
server:
  address: 0.0.0.0
  port: 8121
  servlet:
    context-path: /api
    # cookie 30 天过期
    session:
      cookie:
        max-age: 2592000
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: false
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      logic-delete-field: isDelete # 全局逻辑删除的实体字段名
      logic-delete-value: 1 # 逻辑已删除值（默认为 1）
      logic-not-delete-value: 0 # 逻辑未删除值（默认为 0）
# 微信相关
wx:
  # 微信公众平台
  # todo 需替换配置
  mp:
    token: xxx
    aesKey: xxx
    appId: xxx
    secret: xxx
    config-storage:
      http-client-type: HttpClient
      key-prefix: wx
      redis:
        host: 127.0.0.1
        port: 6379
      type: Memory
  # 微信开放平台
  # todo 需替换配置
  open:
    appId: xxx
    appSecret: xxx
# 对象存储
# todo 需替换配置
cos:
  client:
    accessKey: xxx
    secretKey: xxx
    region: xxx
    bucket: xxx
# 爬虫配置
crawler:
  auto-start:
    enabled: false # 是否自动启动爬虫，false=禁用，true=启用
    query: "Python"  # 默认搜索关键词
    city-code: "101270100"  # 默认城市代码（成都）
    max-pages: 40  # 默认最大页数
# 硅基流动 AI 配置
silicon-flow:
  api-key: yours-apikey  # API密钥，需要替换为实际的API Key
  base-url: https://api.siliconflow.cn/v1  # API基础URL
  model: Qwen/Qwen3-30B-A3B-Instruct-2507  # 默认模型
  timeout: 30000  # 请求超时时间（毫秒）
# 接口文档配置
knife4j:
  enable: true
  openapi:
    title: "接口文档"
    version: 1.0
    group:
      default:
        api-rule: package
        api-rule-resources:
          - com.digital
# Minio核⼼配置
minio:
  endpoint: http://47.109.65.166:9002 # 服务地址
  access-key: admin # 账号
  secret-key: 12345678 # 密码
  bucket-name: digital # 存储桶名
  # 清理规则配置
  clean:
    enabled: true # 是否开启清理任务
    cron: 0 0 2 * * ? # 执⾏时间（每天凌晨2点，Cron表达式）
    expire-days: 30 # 过期天数（超过30天的⽂件清理）
    ignore-prefixes: test_,temp_ # 忽略前缀（这些⽂件不清理，多前缀⽤逗号分隔）
    max-batch-size: 100 # 批量删除数量（避免Minio压⼒过⼤）
# 火山引擎Doubao配置
doubao:
  api-key: 95c87328-e0d0-4127-83f9-d1fc421bdcc7

  base-url: https://ark.cn-beijing.volces.com/api/v3
  model: doubao-seed-1-6-251015
  timeout: 60000 # 请求超时时间（毫秒）